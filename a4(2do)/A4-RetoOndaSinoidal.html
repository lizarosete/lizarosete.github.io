<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Wave 1</title>
    <link rel="stylesheet" href="style.css">
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background-image: url('fondo2.jpg');
        background-size: cover;
        background-position: center;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      canvas {
        display: block;
        background-color: #003366;
      }
    </style>
  </head>
  <body>
    <!-- ✅ Tamaño corregido -->
    <canvas id="canvas" width="736" height="552"></canvas>

    <script src="utils.js"></script>
    <script src="./classes/ball.js"></script>
    <script>
      window.onload = function () {
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');

        const background = new Image();
        background.src = 'fondo.jpg'; // Imagen dentro del canvas

        const ball = new Ball('star.png');

        let angle = 0;
        const centerY = canvas.height / 2;
        const range = 100;
        let xspeed = 2;
        const yspeed = 0.05;

        ball.x = 0;
        ball.y = centerY;

        background.onload = function () {
          (function drawFrame() {
            window.requestAnimationFrame(drawFrame);

            // Asegura que la imagen cubra todo el canvas
            context.drawImage(background, 0, 0, canvas.width, canvas.height);

            ball.x += xspeed;
            ball.y = centerY + Math.sin(angle) * range;
            angle += yspeed;

            if (ball.x + ball.width > canvas.width || ball.x < 0) {
              xspeed *= -1;
            }

            ball.draw(context);
          })();
        };
      };
    </script>
  </body>
</html>
